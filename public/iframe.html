<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body style="margin: 0">
    <iframe
      width="100%"
      frameborder="0"
      height="500px"
      src="http://localhost:3000/index.html"
      id="agent-overview-iframe"
      scrolling="no"
      style="overflow: hidden"
      allowfullscreen
    >
      ></iframe
    >

    <script>
      window.onmessage = function (e) {
        if (e.data) {
          var iFrameID = document.getElementById("agent-overview-iframe");
          if (iFrameID) {
            iFrameID.height = "";
            iFrameID.height = e.data.frameHeight;
          }
        }
      };
    </script>

    <!-- <script type="text/javascript">
      function iframeLoaded() {
        setTimeout(function () {
          window.parent.postMessage(JSON.stringify(message),'*');
          if (iFrameID) {
            console.log(
              "iframe height",
              iFrameID.contentWindow.document.body.scrollHeight
            );
            // here you can make the height, I delete it first, then I make it again
            iFrameID.height = "";
            iFrameID.height =
              iFrameID.contentWindow.document.body.scrollHeight + "px";
          }
        }, 500);
      }
    </script> -->

    <!-- <script>
      var height;

      const sendPostMessage = () => {
        // console.log("PARENT LOCALSTORAGE")
        // console.log(window.parent.localStorage)
        if (
          height !==
          document.getElementById("agent-overview-iframe").offsetHeight
        ) {
          height = document.getElementById(
            "agent-overview-iframe"
          ).offsetHeight;
          window.parent.postMessage(
            {
              frameHeight: height,
            },
            "*"
          );
          console.log(height);
        }
      };

      window.onload = () => sendPostMessage();
      window.onresize = () => sendPostMessage();
    </script> -->

    <!-- <script>
  // Selecting the iframe element
  var iframe = document.getElementById("agent-overview-iframe");
  
  // Adjusting the iframe height onload event
  iframe.onload = function(){
      iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
  }
  </script> -->
  </body>
</html>
